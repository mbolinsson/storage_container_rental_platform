{"ast":null,"code":"var _jsxFileName = \"/Users/marcusbolinsson/Projects/sbfastigheter/container-platform/components/bookContainer/ContainerForm.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from \"react\";\nimport styles from \"./ContainerForm.module.scss\";\nimport { sendForm } from \"../../utils/api\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nfunction onChange(value) {\n  console.log(\"Captcha value:\", value);\n}\n\nlet initialState = {\n  fornamn: \"\",\n  efternamn: \"\",\n  email: \"\",\n  personnummer: \"\",\n  telefonnummer: \"\",\n  stad: \"\",\n  gatuAdress: \"\",\n  postnummer: \"\",\n  errors: {\n    fornamn: false,\n    efternamn: false,\n    email: false,\n    personnummer: false,\n    telefonnummer: false,\n    stad: false,\n    gatuAdress: false,\n    postnummer: false\n  },\n  thereIsOneOrMoreError: false\n};\nexport function ContainerForm({\n  container\n}) {\n  const {\n    0: state,\n    1: setState\n  } = useState(initialState);\n  console.log(container);\n\n  const handleRegex = e => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    let error = false;\n    let regex = \"\";\n\n    switch (target.name) {\n      case \"fornamn\":\n        regex = /^[a-öA-Ö]{2,21}$/;\n        break;\n\n      case \"efternamn\":\n        regex = /^[a-öA-Ö]{2,21}$/;\n        break;\n\n      case \"email\":\n        regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        break;\n\n      case \"personnummer\":\n        regex = /^(19|20)?[0-9]{6}[- ]?[0-9]{4}$/;\n        break;\n\n      case \"telefonnummer\":\n        regex = /^[\\s\\d]+$/;\n        break;\n\n      case \"stad\":\n        regex = /^[a-öA-Ö]{2,21}$/;\n        break;\n\n      case \"gatuAdress\":\n        regex = /^.{5,50}$/;\n        break;\n\n      case \"postnummer\":\n        regex = /^\\d{3} \\d{2}$/;\n        break;\n    }\n\n    regex.test(state[name]) ? error = false : error = true;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      [name]: value,\n      errors: _objectSpread(_objectSpread({}, state.errors), {}, {\n        [name]: error\n      })\n    }));\n  };\n\n  const handleInputChange = e => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      thereIsOneOrMoreError: false\n    }));\n    const isThereErros = Object.values(state.errors);\n    isThereErros.map(inputError => {\n      if (inputError === true) {\n        console.log(\"input error\");\n        setState(_objectSpread(_objectSpread({}, state), {}, {\n          thereIsOneOrMoreError: true\n        }));\n        return;\n      }\n    });\n\n    if (state.thereIsOneOrMoreError === false && state.fornamn && state.efternamn && state.email && state.personnummer && state.personnummer && state.telefonnummer && state.stad && state.gatuAdress && state.postnummer) {\n      sendForm({\n        container: {\n          _id: container._id,\n          location: container.location,\n          number: container.containerNumber,\n          type: container.type,\n          m2: container.m2,\n          price: container.price\n        },\n        customer: {\n          fornamn: state.fornamn,\n          efternamn: state.efternamn,\n          email: state.email,\n          personnummer: state.personnummer,\n          telefonnummer: state.telefonnummer,\n          stad: state.stad,\n          gatuAdress: state.gatuAdress,\n          postnummer: state.postnummer\n        }\n      });\n    } else {\n      const untouchedField = Object.entries(state);\n      const newErrors = {};\n      untouchedField.forEach(element => {\n        if (element[1] === \"\") {\n          let name = element[0];\n          newErrors[name] = true;\n        }\n      });\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        errors: _objectSpread(_objectSpread({}, state.errors), newErrors)\n      }));\n    }\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.formWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"fornamn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, \"F\\xF6rnamn\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.fornamn,\n    className: state.errors.fornamn ? styles.inputFail : styles.input,\n    type: \"text\",\n    name: \"fornamn\",\n    id: \"fornamn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"efternamn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, \"Efternamn\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.efternamn,\n    className: state.errors.efternamn ? styles.inputFail : styles.input,\n    type: \"text\",\n    name: \"efternamn\",\n    id: \"efternamn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, \"Email\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.email,\n    className: state.errors.email ? styles.inputFail : styles.input,\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"personnummer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, \"Personnummer\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.personnummer,\n    className: state.errors.personnummer ? styles.inputFail : styles.input,\n    name: \"personnummer\",\n    id: \"personnummer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"telefonnummer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, \"Telefonnummer\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.telefonnummer,\n    className: state.errors.telefonnummer ? styles.inputFail : styles.input,\n    name: \"telefonnummer\",\n    id: \"telefonnummer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"stad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, \"Stad\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.stad,\n    className: state.errors.stad ? styles.inputFail : styles.input,\n    placeholder: \"\",\n    type: \"text\",\n    name: \"stad\",\n    id: \"stad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"gatuadress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, \"Gatuadress\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.gatuAdress,\n    className: state.errors.gatuAdress ? styles.inputFail : styles.input,\n    type: \"text\",\n    name: \"gatuAdress\",\n    id: \"gatuadress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: styles.label,\n    htmlFor: \"postnummer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 17\n    }\n  }, \"Postnummer\"), __jsx(\"input\", {\n    onChange: handleInputChange,\n    onBlur: handleRegex,\n    value: state.postnummer,\n    className: state.errors.postnummer ? styles.inputFail : styles.input,\n    name: \"postnummer\",\n    id: \"postnummer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 15\n    }\n  }, __jsx(\"input\", {\n    className: styles.submit,\n    type: \"submit\",\n    value: \"Skicka in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 15\n    }\n  }, __jsx(ReCAPTCHA, {\n    sitekey: \"6Lfwob8ZAAAAAH2W6B14sCeQxODHBpw8eo-2cCMa\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 17\n    }\n  })))))));\n}","map":{"version":3,"sources":["/Users/marcusbolinsson/Projects/sbfastigheter/container-platform/components/bookContainer/ContainerForm.js"],"names":["React","useEffect","useState","styles","sendForm","ReCAPTCHA","onChange","value","console","log","initialState","fornamn","efternamn","email","personnummer","telefonnummer","stad","gatuAdress","postnummer","errors","thereIsOneOrMoreError","ContainerForm","container","state","setState","handleRegex","e","target","name","error","regex","test","handleInputChange","handleSubmit","preventDefault","isThereErros","Object","values","map","inputError","_id","location","number","containerNumber","type","m2","price","customer","untouchedField","entries","newErrors","forEach","element","main","wrapper","formWrapper","form","inputWrapper","label","inputFail","input","submit"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport styles from \"./ContainerForm.module.scss\";\nimport {sendForm} from \"../../utils/api\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nfunction onChange(value) {\n  console.log(\"Captcha value:\", value);\n}\n\nlet initialState = {\n  fornamn: \"\",\n  efternamn: \"\",\n  email: \"\",\n  personnummer: \"\",\n  telefonnummer: \"\",\n  stad: \"\",\n  gatuAdress: \"\",\n  postnummer: \"\",\n  errors: {\n    fornamn: false,\n    efternamn: false,\n    email: false,\n    personnummer: false,\n    telefonnummer: false,\n    stad: false,\n    gatuAdress: false,\n    postnummer: false,\n  },\n  thereIsOneOrMoreError: false,\n};\n\nexport function ContainerForm({container}) {\n  const [state, setState] = useState(initialState);\n\n  console.log(container);\n\n  const handleRegex = (e) => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    let error = false;\n\n    let regex = \"\";\n\n    switch (target.name) {\n      case \"fornamn\":\n        regex = /^[a-öA-Ö]{2,21}$/;\n        break;\n      case \"efternamn\":\n        regex = /^[a-öA-Ö]{2,21}$/;\n        break;\n      case \"email\":\n        regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        break;\n      case \"personnummer\":\n        regex = /^(19|20)?[0-9]{6}[- ]?[0-9]{4}$/;\n        break;\n      case \"telefonnummer\":\n        regex = /^[\\s\\d]+$/;\n        break;\n      case \"stad\":\n        regex = /^[a-öA-Ö]{2,21}$/;\n        break;\n      case \"gatuAdress\":\n        regex = /^.{5,50}$/;\n        break;\n      case \"postnummer\":\n        regex = /^\\d{3} \\d{2}$/;\n        break;\n    }\n\n    regex.test(state[name]) ? (error = false) : (error = true);\n\n    setState({\n      ...state,\n      [name]: value,\n      errors: {\n        ...state.errors,\n        [name]: error,\n      },\n    });\n  };\n\n  const handleInputChange = (e) => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setState({...state, thereIsOneOrMoreError: false});\n\n    const isThereErros = Object.values(state.errors);\n\n    isThereErros.map((inputError) => {\n      if (inputError === true) {\n        console.log(\"input error\");\n        setState({...state, thereIsOneOrMoreError: true});\n\n        return;\n      }\n    });\n\n    if (\n      state.thereIsOneOrMoreError === false &&\n      state.fornamn &&\n      state.efternamn &&\n      state.email &&\n      state.personnummer &&\n      state.personnummer &&\n      state.telefonnummer &&\n      state.stad &&\n      state.gatuAdress &&\n      state.postnummer\n    ) {\n      sendForm({\n        container: {\n          _id: container._id,\n          location: container.location,\n          number: container.containerNumber,\n          type: container.type,\n          m2: container.m2,\n          price: container.price,\n        },\n        customer: {\n          fornamn: state.fornamn,\n          efternamn: state.efternamn,\n          email: state.email,\n          personnummer: state.personnummer,\n          telefonnummer: state.telefonnummer,\n          stad: state.stad,\n          gatuAdress: state.gatuAdress,\n          postnummer: state.postnummer,\n        },\n      });\n    } else {\n      const untouchedField = Object.entries(state);\n\n      const newErrors = {};\n\n      untouchedField.forEach((element) => {\n        if (element[1] === \"\") {\n          let name = element[0];\n\n          newErrors[name] = true;\n        }\n      });\n\n      setState({\n        ...state,\n        errors: {\n          ...state.errors,\n          ...newErrors,\n        },\n      });\n    }\n  };\n\n  return (\n    <div>\n      <div className={styles.main}>\n        <div className={styles.wrapper}>\n          <div className={styles.formWrapper}>\n            <form onSubmit={handleSubmit} className={styles.form}>\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"fornamn\">\n                  Förnamn\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.fornamn}\n                  className={state.errors.fornamn ? styles.inputFail : styles.input}\n                  type=\"text\"\n                  name=\"fornamn\"\n                  id=\"fornamn\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"efternamn\">\n                  Efternamn\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.efternamn}\n                  className={state.errors.efternamn ? styles.inputFail : styles.input}\n                  type=\"text\"\n                  name=\"efternamn\"\n                  id=\"efternamn\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"email\">\n                  Email\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.email}\n                  className={state.errors.email ? styles.inputFail : styles.input}\n                  type=\"email\"\n                  name=\"email\"\n                  id=\"email\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"personnummer\">\n                  Personnummer\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.personnummer}\n                  className={state.errors.personnummer ? styles.inputFail : styles.input}\n                  name=\"personnummer\"\n                  id=\"personnummer\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"telefonnummer\">\n                  Telefonnummer\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.telefonnummer}\n                  className={state.errors.telefonnummer ? styles.inputFail : styles.input}\n                  name=\"telefonnummer\"\n                  id=\"telefonnummer\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"stad\">\n                  Stad\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.stad}\n                  className={state.errors.stad ? styles.inputFail : styles.input}\n                  placeholder=\"\"\n                  type=\"text\"\n                  name=\"stad\"\n                  id=\"stad\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"gatuadress\">\n                  Gatuadress\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.gatuAdress}\n                  className={state.errors.gatuAdress ? styles.inputFail : styles.input}\n                  type=\"text\"\n                  name=\"gatuAdress\"\n                  id=\"gatuadress\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <label className={styles.label} htmlFor=\"postnummer\">\n                  Postnummer\n                </label>\n                <input\n                  onChange={handleInputChange}\n                  onBlur={handleRegex}\n                  value={state.postnummer}\n                  className={state.errors.postnummer ? styles.inputFail : styles.input}\n                  name=\"postnummer\"\n                  id=\"postnummer\"\n                ></input>\n              </div>\n\n              <div className={styles.inputWrapper}>\n                <input className={styles.submit} type=\"submit\" value=\"Skicka in\" />\n              </div>\n              <div className={styles.inputWrapper}>\n                <ReCAPTCHA sitekey=\"6Lfwob8ZAAAAAH2W6B14sCeQxODHBpw8eo-2cCMa\" onChange={onChange} />\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}